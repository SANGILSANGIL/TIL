*nginx* 는 비동기(async) 이벤트 기반(ioctl, send, recv, epoll)으로 만들어졌고, Apache Http 서버는 프로세스 또는 쓰레드를 
태생으로 만들어졌다.


---
-성능 Apache Http 서버는 요청 하나당 프로세스(뜨는 쓰레드)가 처리하는 구조이다 보니, 만약 Apache Http 서버의 프로세스가 
blocking(DB나 파일)이 되면 요청을 계속 처리하지 못하고 처리 완료때까지 대기하는 일이 생긴다. 
그래서 Timeout이나 Keep Alive 체크를 정말 잘써야 하는 이슈가 생기게 되었다.

---


또한 MaxClient의 수치를 높여 dos 공격에 대해서 조금이라도 막을 수 있는 형태를 취하게 된다. 따라서 프로세스(또는 쓰레드) 
메모리를 많이 할당/해제하는 상황이 생길 수 있다.

nginx는 쓰레드를 적게 사용하는 구조이다. 또한 쓰레드를 적게 쓰다보니 쓰레드당 할당되는 메모리도 적게 되면서 메모리도 적게 
사용되는 구조가 된다. 하나의 쓰레드에서 이벤트를 처리하다 보니 blocking이 되는 일이 없는 셈이 된다. 또한 쓰레드를 적게 쓴 
다는 것은 context swithing 비용도 적게 되기 때문에 cpu의 소모도 상대적으로 작게 된다. 하나의 프로세서는 하나의 쓰레드처럼 
사용하여 적은 worker에서 동작이 된다. 다만 많은 요청을 처리하기 위해서 client 개수는 늘릴 필요는 있다.

##단점 모듈 개발이 어려워 아파치에 비해 확장 모듈이 전무. 
예로 윈도우용 nginx은 32비트이며 소켓연결또한 select()만을 지원…(안쓰고 말지)
