#복합 선택자와 키 선택자


복합 선택자와 키 선택자
CSS를 사용할 때 #nav와 같은 단일 선택자를 사용할 수도 있지만, #nav > *와 같은 복합 선택자를 사용할 수도 있다. 
이러한 복합 선택자를 읽는 순서는 사람과 브라우저가 다르다. 사람의 경우 왼쪽에서 오른쪽으로 선택자를 읽지만 브라우저는 
오른쪽에서 왼쪽으로 읽는다. 이는 복합 선택자의 왼쪽에서 오른쪽으로 탐색을 하는 방식이 오른쪽에서 왼쪽으로 탐색을 하는 
방식보다 빠르기 때문이다. 왜 그런지는 이 글에 서 자세히 설명되어있다. 해당 글을 요약하자면, 왼쪽에서 오른쪽으로 탐색을 
하는 방식을 사용할 경우 DOM 트리의 상위 레벨에서 하위레벨로 탐색을 진행한다 (Top-down 방식). 즉, DOM 요소와 매치되는 
선택자들을 찾는데 집중한다. 반면 선택자의 오른쪽에서 왼쪽으로 탐색하는 방식을 사용할 경우 DOM 트리의 하위 레벨에서 
상위레벨로 탐색을 진행한다(Bottom-up 방식). 즉, DOM 요소와 매치되지 않는 선택자들을 제거하는데 집중한다. DOM 트리와 
CSS 선택자의 특성상 후자가 더 좋은 성능을 낸다. 이러한 이유로 브라우저는 오른쪽에서 왼쪽으로 선택자를 읽기 때문에, 
"왼쪽으로 오른쪽으로 탐색을 할 것이다"라고 가정하고 작성한 CSS 코드의 경우 생각했던 것과는 달리 비효율적인 경우가 많다.


 #nav > * { ... } 


위의 선택자를 사용하여 왼쪽에서 오른쪽으로 탐색을 진행할 경우, ID에 해당하는 DOM 요소를 먼저 선택한 후 모든 자식들을 
선택하기 때문에 괜찮은 선택자라고 생각할 수 있다. 하지만 실제로 선택자는 오른쪽에서 왼쪽으로 탐색을 수행하기 때문에 
코드 작성시 생각했던 것과는 달리 실제로는 모든 DOM 요소를 선택한 후, 부모가 #nav인 DOM 요소들만 찾는 방식으로 동작하므로 
위의 선택자는 매우 비효율적이다(실제 브라우저에서는 최적화된 알고리즘을 사용하기 때문에, 모든 DOM 요소를 선택한 다음 부모가 
#nav인 DOM 요소들을 찾는 것 보다는 빠르게 동작할 것이라 생각된다(추측)).
